class ScrollBox extends HTMLElement {constructor() {super();this.viewall = document.createElement('button');this.viewall.classList.add('vbtn');this.viewall.innerHTML = '<i class="fa fa-th"></i>';this.before(this.viewall);this.left = document.createElement('button');this.left.classList.add('sbtn');this.left.classList.add('left');this.left.innerHTML = '<i class="fa fa-arrow-circle-o-left"></i>';this.left.style.height = this.clientHeight + 'px';this.appendChild(this.left);this.right = document.createElement('button');this.right.classList.add('sbtn');this.right.classList.add('right');this.right.innerHTML = '<i class="fa fa-arrow-circle-o-right"></i>';this.right.style.height = this.clientHeight + 'px';this.appendChild(this.right);};connectedCallback() {var idx = 0;var inc = ()=>{let vis = 0;for(let i = 0; i < this.childElementCount-2; i++){let rect = this.children[i].getBoundingClientRect();let prnt = this.getBoundingClientRect();if(rect.left >= prnt.left && rect.right <= prnt.right){vis++;}}return vis;};var btnvis = ()=>{this.left.style.display = (idx < 1) ? 'none' : 'block';this.right.style.display = (idx >= this.childElementCount - inc() - 2) ? 'none' : 'block';};btnvis();this.right.addEventListener('click',()=>{if(idx < this.childElementCount - 2){idx += inc();if(idx >= this.childElementCount-inc()) idx=this.childElementCount-inc()-2;let next = this.children[idx];next.scrollIntoView({block: "nearest", inline: "start"});btnvis();}});this.left.addEventListener('click',()=>{if(idx > 0){idx -= inc();if(idx < inc()) idx = 0;let prev = this.children[idx];prev.scrollIntoView({block: "nearest", inline: "start"});btnvis();}});this.viewall.addEventListener('click',()=>{if (this.style.flexWrap == 'wrap'){this.style.flexWrap = 'nowrap';this.style.justifyContent = '';this.viewall.innerHTML = '<i class="fa fa-th"></i>';}else{this.style.flexWrap = 'wrap';this.style.justifyContent = 'center';this.viewall.innerHTML = '<i class="fa fa-arrows-h"></i>';idx = 0;let first = this.children[idx];first.scrollIntoView({block: "nearest", inline: "start"});btnvis();}btnvis();});window.addEventListener('resize', ()=>{btnvis();});};};customElements.define('scroll-box', ScrollBox);